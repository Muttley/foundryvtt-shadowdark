{"name":"Generate Random Magic Item Name","type":"script","scope":"global","author":"EKVggA45fx6fzkCK","img":"icons/equipment/neck/pendant-faceted-silver-green.webp","command":"// Macro to draw and construct a named Magic Item, being sent in a whisper to GMs on the server.\n\nconst pack = game.packs.get(\"shadowdark.rollable-tables\");\n\nconst firstTableID = pack.index.find(o => o.name === \"Magic Item: Name 1\")._id;\nconst firstTable = await pack.getDocument(firstTableID);\nconst firstResult = await firstTable.draw({displayChat: false});\nconst first = firstResult.results.pop().getChatText();\n\nconst secondTableID = pack.index.find(o => o.name === \"Magic Item: Name 2\")._id;\nconst secondTable = await pack.getDocument(secondTableID);\nconst secondResult = await secondTable.draw({displayChat: false});\nconst second = secondResult.results.pop().getChatText();\n\nconst thirdTableID = pack.index.find(o => o.name === \"Magic Item: Name 3\")._id;\nconst thirdTable = await pack.getDocument(thirdTableID);\nconst thirdResult = await thirdTable.draw({displayChat: false});\nconst third = thirdResult.results.pop().getChatText();\n\nconst message = `<p><b>${first} ${second} ${third}</b></p>`;\n\nconst chatData = {\n  user: game.user._id,\n  speaker: ChatMessage.getSpeaker(),\n  content: message,\n  whisper: game.users.filter(u => u.isGM).map(u => u._id),\n};\n\nChatMessage.create(chatData, {});","ownership":{"default":0,"EKVggA45fx6fzkCK":3},"flags":{"core":{"sourceId":"Macro.RIrdEmo0nwA37WyT"}},"_stats":{"systemId":"shadowdark","systemVersion":"0.1.0","coreVersion":"10.291","createdTime":1679296071412,"modifiedTime":1679296168796,"lastModifiedBy":"EKVggA45fx6fzkCK"},"folder":null,"sort":0,"_id":"4j286mEmWbt6maGk"}
{"name":"Light Tracker UI Toggle (GM Only)","type":"script","scope":"global","author":"EjRYV38yldItTITy","img":"icons/tools/navigation/hourglass-grey.webp","command":"// This toggles the Light Source Tracker interface on/off.\n//\n// Only available to users with the Game Master role.\n//\ngame.shadowdark.lightSourceTracker.toggleInterface();","flags":{"core":{"sourceId":"Macro.SEh88OBTmU29lKPV"}},"_stats":{"systemId":"shadowdark","systemVersion":"0.1.0","coreVersion":"10.291","createdTime":1678988401175,"modifiedTime":1679067739305,"lastModifiedBy":"EjRYV38yldItTITy"},"folder":null,"sort":0,"ownership":{"default":0,"EjRYV38yldItTITy":3},"_id":"VgfWt2xWzYJyVMbA"}
